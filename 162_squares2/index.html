<html>
    <head>
        <title>Squares</title>
        <link rel="stylesheet" type="text/css" href="../css/styles.css"/>
    </head>
    <body>
        <script type="text/javascript" src="../libs/tools.js"></script>
        <script type="text/javascript">
         tools.mixin(tools, this);

         var w = 700;
         var h = 700;
         var stage = new Stage(w, h);
         var out = stage.out;
         var n = 50;


         new Loop(function(){
             out.clearRect(0, 0, w, h);
             out.save();
             out.translate(0.5 * w, 0.5 * h);
             var t = 0.005 * Date.now();
             for(var i = 0; i < n; i++){
                 out.save();
                 out.beginPath();
                 var scale = i / n;
                 out.scale(scale, scale);
                 var radius = 200 * (1 - scale);
                 var angle = 3 * (1 - scale) + t;
                 var tx = radius * Math.cos(angle);
                 var ty = radius * Math.sin(angle);
                 out.translate(tx, ty);
                 out.moveTo(-0.5 * w, -0.5 * h);
                 out.lineTo(0.5 * w, -0.5 * h);
                 out.lineTo(0.5 * w, 0.5 * h);
                 out.lineTo(-0.5 * w, 0.5 * h);
                 out.lineTo(-0.5 * w, -0.5 * h);

                 out.restore();
                 out.strokeStyle = "black";
                 out.stroke();
             }
             out.restore();
         });</script>

    </body>
</html>
