<html>
    <head>
        <title>ribbon</title>
        <link rel="stylesheet" type="text/css" href="../css/styles.css"/>
    </head>
    <body>
        <script type="text/javascript" src="../libs/tools.js"></script>
        <script type="text/javascript">


         var w = 700;
         var h = 700;

         tools.mixin(tools, this);
         var stage = new Stage(w, h);
         var out = stage.out;

         var dist = 100;

         var p0 = {x:Math.random() * w, y:Math.random() * h};
         var p1 = getNext(p0);

         function next(){
             var nP = getNext(p1);

             out.beginPath();
             var a = Math.sqrt(Math.random());
             out.fillStyle = "rgba(0, 0, 0, " + a + ")";
             out.moveTo(p0.x, p0.y);
             out.lineTo(p1.x, p1.y);
             out.lineTo(nP.x, nP.y);
             out.lineTo(p0.x, p0.y);
             out.fill();

             p0 = p1;
             p1 = nP;
         }

         function getNext(pt){
             return {x:pt.x + dist * (Math.random() * 2 - 1),
                     y:pt.y + dist * (Math.random() * 2 - 1)}
         }

         for(var i = 0; i < 100; i++)
             next();


        </script>

    </body>
</html>
