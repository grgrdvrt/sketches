<html>
    <head>
        <title>recursive traces</title>
        <link rel="stylesheet" type="text/css" href="../css/styles.css"/>
    </head>
    <body>
        <script type="text/javascript" src="../libs/tools.js"></script>
        <script type="text/javascript">
         var stage = new tools.Stage(700, 700);
         var out = stage.out;


         var nEmts = 1000;
         var radius = 100;
         var scale = 0.8;
         var posX = 0.5 * stage.width;
         var posY = 0.9 * stage.height;
         var angleStep = 0.1;

         var time = 0;

         out.strokeStyle = "rgb(0, 0, 0)";
         out.translate(posX, posY);

         function update(){
             angleStep = Math.cos(0.01 * time);
             out.save();
             for(var i = 0; i < nEmts; i++){
                 out.rotate(angleStep * Math.pow((i + 1)/(nEmts + 1), 0.1));
                 out.beginPath();
                 out.moveTo(0, 0);
                 out.lineTo(0, -radius);
                 out.stroke();
                 out.translate(0, -radius);
                 out.scale(scale, scale);
             }
             out.restore();
             time++;
         }

         new tools.Loop(update, this);</script>
    </body>
</html>
