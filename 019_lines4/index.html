<html>
    <head>
        <title>lines 4</title>
        <link rel="stylesheet" type="text/css" href="../css/styles.css"/>
    </head>
    <body>
        <script type="text/javascript" src="../libs/tools.js"></script>
        <script type="text/javascript">
         var stage = new tools.Stage(700, 700);

         var posX = 0.5 * stage.width;
         var posY = 0.5 * stage.height;
         var vy = 0;
         var r = 0.35 * stage.height;
         var vr = 0;
         var a = 0;
         var fr = 0.8;

         var ptX = r + posX;
         var ptY = r;


         stage.out.strokeStyle = "black";

         var n = Math.random() + 1;
         var phi = Math.random() * Math.PI / 2;

         function update(){
             stage.out.beginPath();
             stage.out.moveTo(ptX, ptY);
             ptX = posX + r * Math.sin(a);
             ptY = posY + r * Math.sin(n * a + phi);
             stage.out.lineTo(ptX, ptY);
             stage.out.stroke();
             stage.out.closePath();

             vr = vr * fr + 5 * (Math.random() * 2 - 1);
             r += vr;
             a += Math.PI * 0.03;

             if(r > 0.4 * stage.width){
                 r = 0.4 * stage.width;
                 vr *= -1;
             }
             if(r < 0.35 * stage.width){
                 r = 0.35 * stage.width;
                 vr *= -1;
             }

         }

         new tools.Loop(update, this);
        </script>
    </body>
</html>
