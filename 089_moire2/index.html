<html>
    <head>
        <title>Moire</title>
        <link rel="stylesheet" type="text/css" href="../css/styles.css"/>
    </head>
    <body>
        <script type="text/javascript" src="../libs/tools.js"></script>
        <script type="text/javascript">
         tools.mixin(tools, this);

         var stage = new Stage(700, 700);
         var out = stage.out;


         function drawGrid(step){
             out.beginPath();
             for(var i = -0.5 * stage.width; i < 1.5 * stage.width; i+=step){
                 out.moveTo(i, -0.5 * stage.height);
                 out.lineTo(i, 1.5 * stage.height);
             }
             out.stroke();
         }

         var step1 = 1 + Math.random() * 2;
         var step2 = 1 + Math.random() * 2;
         var time = 0;
         var timeStep = 0.01;

         new Loop(function(){
             stage.clear();
             drawGrid(step1);
             out.save();
             out.translate(0.5 * stage.width, 0.5 * stage.height);
             out.rotate(time);
             out.translate(-0.5 * stage.width, -0.5 * stage.height);
             drawGrid(step2);
             out.restore();
             time += timeStep;
         });
        </script>
    </body>
</html>
